# MNR Law Crawler - æ•°æ®æµå¯¼å›¾

## ğŸ³ Docker å®¹å™¨æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Compose ç¼–æ’å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Frontend        â”‚  â”‚   Backend         â”‚  â”‚      DB          â”‚ â”‚
â”‚  â”‚  Container       â”‚  â”‚   Container       â”‚  â”‚   Container      â”‚ â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚ â”‚
â”‚  â”‚  Nginx 1.28      â”‚  â”‚  FastAPI          â”‚  â”‚  PostgreSQL 18   â”‚ â”‚
â”‚  â”‚  Port: 3000      â”‚  â”‚  Port: 8000       â”‚  â”‚  Port: 5432      â”‚ â”‚
â”‚  â”‚  User: nginx     â”‚  â”‚  User: appuser    â”‚  â”‚  User: postgres  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                      â”‚                      â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                            â”‚                                          â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚                    â”‚  Docker Volumes â”‚                                 â”‚
â”‚                    â”‚                 â”‚                                 â”‚
â”‚                    â”‚ â€¢ postgres_data â”‚                                 â”‚
â”‚                    â”‚ â€¢ postgres_secretsâ”‚                               â”‚
â”‚                    â”‚ â€¢ crawled_data  â”‚                                 â”‚
â”‚                    â”‚ â€¢ cache_data    â”‚                                 â”‚
â”‚                    â”‚ â€¢ logs_data     â”‚                                 â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Networks                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ frontend-network: å‰ç«¯ç½‘ç»œéš”ç¦»                                     â”‚
â”‚  â€¢ backend-network: åç«¯å’Œæ•°æ®åº“ç½‘ç»œ                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š ç³»ç»Ÿæ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯å±‚ (Vue 3 + TypeScript)                   â”‚
â”‚                    (Nginx 1.28 å®¹å™¨åŒ–éƒ¨ç½²)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Policies â”‚  â”‚  Tasks   â”‚  â”‚ Settings â”‚  â”‚  Login   â”‚          â”‚
â”‚  â”‚   .vue   â”‚  â”‚  .vue    â”‚  â”‚  .vue    â”‚  â”‚  .vue    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚       â”‚              â”‚              â”‚              â”‚                â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                              â”‚                                       â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                      â”‚   API Client   â”‚                              â”‚
â”‚                      â”‚  (axios + ts)  â”‚                              â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                              â”‚ HTTP/HTTPS                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   FastAPI Server    â”‚
                    â”‚   (Port 8000)       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API è·¯ç”±å±‚ (FastAPI Router)                       â”‚
â”‚                  (Python 3.12 + uvicorn å®¹å™¨åŒ–)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚/api/auth â”‚  â”‚/api/tasksâ”‚  â”‚/api/policyâ”‚ â”‚/api/configâ”‚          â”‚
â”‚  â”‚          â”‚  â”‚          â”‚  â”‚           â”‚ â”‚           â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜          â”‚
â”‚       â”‚             â”‚               â”‚              â”‚                â”‚
â”‚       â”‚             â”‚               â”‚              â”‚                â”‚
â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚          Authentication Middleware                     â”‚        â”‚
â”‚  â”‚        (JWT Token Validation)                          â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                              â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ä¸šåŠ¡æœåŠ¡å±‚ (Services)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ AuthService  â”‚  â”‚ TaskService  â”‚  â”‚PolicyService â”‚             â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚             â”‚
â”‚  â”‚ â€¢ ç™»å½•éªŒè¯    â”‚  â”‚ â€¢ åˆ›å»ºä»»åŠ¡    â”‚  â”‚ â€¢ ä¿å­˜æ”¿ç­–    â”‚             â”‚
â”‚  â”‚ â€¢ å¯†ç ç®¡ç†    â”‚  â”‚ â€¢ æ‰§è¡Œçˆ¬å–    â”‚  â”‚ â€¢ æŸ¥è¯¢æ”¿ç­–    â”‚             â”‚
â”‚  â”‚ â€¢ JWTç”Ÿæˆ    â”‚  â”‚ â€¢ ä»»åŠ¡ç®¡ç†    â”‚  â”‚ â€¢ å»é‡æ£€æŸ¥    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚         â”‚                 â”‚                  â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚            ConfigService                         â”‚             â”‚
â”‚  â”‚  â€¢ ç³»ç»Ÿé…ç½®ç®¡ç†                                    â”‚             â”‚
â”‚  â”‚  â€¢ åŠŸèƒ½å¼€å…³ç®¡ç†                                    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚         â”‚                 â”‚                  â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚         StorageService / CacheService            â”‚             â”‚
â”‚  â”‚  â€¢ æœ¬åœ°å­˜å‚¨ / S3å­˜å‚¨                               â”‚             â”‚
â”‚  â”‚  â€¢ æ–‡ä»¶ç¼“å­˜ç®¡ç†                                    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ ¸å¿ƒçˆ¬è™«å±‚ (Core)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                  â”‚
â”‚  â”‚PolicyCrawler â”‚                                                  â”‚
â”‚  â”‚              â”‚                                                  â”‚
â”‚  â”‚ â€¢ å¤šæ•°æ®æºæ”¯æŒ â”‚                                                  â”‚
â”‚  â”‚ â€¢ è¿›åº¦å›è°ƒ    â”‚                                                  â”‚
â”‚  â”‚ â€¢ ä»»åŠ¡æ§åˆ¶    â”‚                                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                  â”‚
â”‚         â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   MNRSpider   â”‚  â”‚  APIClient   â”‚  â”‚   Config     â”‚          â”‚
â”‚  â”‚               â”‚  â”‚              â”‚  â”‚              â”‚          â”‚
â”‚  â”‚ â€¢ çˆ¬å–é€»è¾‘    â”‚  â”‚ â€¢ HTTPè¯·æ±‚    â”‚  â”‚ â€¢ é…ç½®ç®¡ç†    â”‚          â”‚
â”‚  â”‚ â€¢ æ•°æ®è§£æ    â”‚  â”‚ â€¢ ä»£ç†ç®¡ç†    â”‚  â”‚ â€¢ å»¶è¿Ÿæ§åˆ¶    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                  â”‚                  â”‚                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚         HTML Parsers (GIMNRParser/FMNRParser)     â”‚          â”‚
â”‚  â”‚  â€¢ è§£æä¸åŒæ•°æ®æºçš„HTMLç»“æ„                         â”‚          â”‚
â”‚  â”‚  â€¢ æå–æ”¿ç­–å…ƒä¿¡æ¯                                   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®å­˜å‚¨å±‚                                       â”‚
â”‚              (PostgreSQL 18 + Docker Volumes)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   PostgreSQL 18  â”‚        â”‚   Docker Volumes â”‚                 â”‚
â”‚  â”‚   (Container)    â”‚        â”‚   / S3 Storage   â”‚                 â”‚
â”‚  â”‚                  â”‚        â”‚                  â”‚                 â”‚
â”‚  â”‚ â€¢ users          â”‚        â”‚ â€¢ crawled_data   â”‚                 â”‚
â”‚  â”‚ â€¢ policies       â”‚        â”‚ â€¢ cache_data     â”‚                 â”‚
â”‚  â”‚ â€¢ tasks          â”‚        â”‚ â€¢ logs_data      â”‚                 â”‚
â”‚  â”‚ â€¢ attachments    â”‚        â”‚ â€¢ postgres_data  â”‚                 â”‚
â”‚  â”‚ â€¢ system_config  â”‚        â”‚ â€¢ JSON/MD/DOCX   â”‚                 â”‚
â”‚  â”‚ â€¢ scheduled_tasksâ”‚        â”‚ â€¢ S3 (å¯é€‰)       â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¤–éƒ¨æ•°æ®æº                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ æ”¿åºœä¿¡æ¯å…¬å¼€å¹³å°           â”‚  â”‚   æ”¿ç­–æ³•è§„åº“              â”‚       â”‚
â”‚  â”‚ gi.mnr.gov.cn            â”‚  â”‚  f.mnr.gov.cn            â”‚       â”‚
â”‚  â”‚                          â”‚  â”‚                          â”‚       â”‚
â”‚  â”‚ â€¢ Search API             â”‚  â”‚ â€¢ Search API             â”‚       â”‚
â”‚  â”‚ â€¢ Detail Pages           â”‚  â”‚ â€¢ Detail Pages           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ æ ¸å¿ƒæ•°æ®æµç¨‹

### 1. ç”¨æˆ·è®¤è¯æµç¨‹

```
ç”¨æˆ·ç™»å½•è¯·æ±‚
    â”‚
    â–¼
[å‰ç«¯: Login.vue]
    â”‚ POST /api/auth/login
    â–¼
[API: auth.py] â†’ éªŒè¯ç”¨æˆ·åå¯†ç 
    â”‚
    â–¼
[Service: AuthService] â†’ éªŒè¯å¯†ç å“ˆå¸Œ
    â”‚
    â–¼
[Database: usersè¡¨] â†’ æŸ¥è¯¢ç”¨æˆ·
    â”‚
    â–¼
ç”ŸæˆJWT Token
    â”‚
    â–¼
è¿”å›Tokenç»™å‰ç«¯
    â”‚
    â–¼
[å‰ç«¯: AuthStore] â†’ å­˜å‚¨Token
    â”‚
    â–¼
åç»­è¯·æ±‚æºå¸¦Token (Authorization Header)
```

### 2. ä»»åŠ¡åˆ›å»ºä¸æ‰§è¡Œæµç¨‹

```
ç”¨æˆ·åˆ›å»ºçˆ¬å–ä»»åŠ¡
    â”‚
    â–¼
[å‰ç«¯: Tasks.vue]
    â”‚ POST /api/tasks (with config)
    â–¼
[API: tasks.py] â†’ éªŒè¯å‚æ•°
    â”‚
    â–¼
[Service: TaskService.create_task]
    â”‚
    â–¼
[Database: tasksè¡¨] â†’ åˆ›å»ºä»»åŠ¡è®°å½• (status: pending)
    â”‚
    â–¼
å¦‚æœautoStart=true â†’ å¯åŠ¨ä»»åŠ¡
    â”‚
    â–¼
[Service: TaskService._execute_task] (åå°çº¿ç¨‹)
    â”‚
    â”œâ”€â†’ ä»æ•°æ®åº“è¯»å–çˆ¬è™«é…ç½® (delay, proxyç­‰)
    â”‚
    â”œâ”€â†’ [Core: PolicyCrawler] â†’ åˆå§‹åŒ–çˆ¬è™«
    â”‚       â”‚
    â”‚       â”œâ”€â†’ [Core: Config] â†’ åŠ è½½é…ç½®
    â”‚       â”‚
    â”‚       â”œâ”€â†’ [Core: APIClient] â†’ åˆ›å»ºHTTPå®¢æˆ·ç«¯
    â”‚       â”‚
    â”‚       â””â”€â†’ [Core: MNRSpider] â†’ åˆ›å»ºçˆ¬è™«å®ä¾‹
    â”‚               â”‚
    â”‚               â”œâ”€â†’ æ ¹æ®æ•°æ®æºé€‰æ‹©è§£æå™¨
    â”‚               â”‚   (GIMNRParser / FMNRParser)
    â”‚               â”‚
    â”‚               â””â”€â†’ å¼€å§‹çˆ¬å–
    â”‚                       â”‚
    â”‚                       â”œâ”€â†’ [å¤–éƒ¨API] â†’ è·å–æ”¿ç­–åˆ—è¡¨
    â”‚                       â”‚
    â”‚                       â”œâ”€â†’ [HTML Parser] â†’ è§£æHTML
    â”‚                       â”‚
    â”‚                       â”œâ”€â†’ [æ—¶é—´è¿‡æ»¤] â†’ è¿‡æ»¤æ—¥æœŸèŒƒå›´
    â”‚                       â”‚
    â”‚                       â””â”€â†’ è¿”å›Policyå¯¹è±¡åˆ—è¡¨
    â”‚
    â”œâ”€â†’ éå†Policyåˆ—è¡¨
    â”‚       â”‚
    â”‚       â”œâ”€â†’ [Service: PolicyService.save_policy]
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€â†’ æ£€æŸ¥æ”¿ç­–æ˜¯å¦å·²å­˜åœ¨ (å»é‡)
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€â†’ [Database: policiesè¡¨] â†’ ä¿å­˜æ”¿ç­–
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€â†’ [StorageService] â†’ ä¿å­˜æ–‡ä»¶
    â”‚       â”‚       â”‚       â”‚
    â”‚       â”‚       â”‚       â”œâ”€â†’ ä¿å­˜JSONæ–‡ä»¶
    â”‚       â”‚       â”‚       â”œâ”€â†’ ä¿å­˜Markdownæ–‡ä»¶
    â”‚       â”‚       â”‚       â”œâ”€â†’ ä¿å­˜DOCXæ–‡ä»¶
    â”‚       â”‚       â”‚       â””â”€â†’ (å¯é€‰) ä¸Šä¼ åˆ°S3
    â”‚       â”‚       â”‚
    â”‚       â”‚       â””â”€â†’ æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
    â”‚       â”‚
    â”‚       â””â”€â†’ [Database: task_policiesè¡¨] â†’ å…³è”ä»»åŠ¡å’Œæ”¿ç­–
    â”‚
    â”œâ”€â†’ æ›´æ–°ä»»åŠ¡çŠ¶æ€å’Œç»Ÿè®¡
    â”‚       â”‚
    â”‚       â”œâ”€â†’ [Database: tasksè¡¨] â†’ æ›´æ–°status, policy_countç­‰
    â”‚       â”‚
    â”‚       â””â”€â†’ å‘é€è¿›åº¦å›è°ƒ
    â”‚
    â””â”€â†’ ä»»åŠ¡å®Œæˆ
            â”‚
            â”œâ”€â†’ [Service: EmailService] â†’ å‘é€é‚®ä»¶é€šçŸ¥ (å¦‚æœå¯ç”¨)
            â”‚
            â””â”€â†’ æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸º completed
```

### 3. æ”¿ç­–æŸ¥è¯¢ä¸å±•ç¤ºæµç¨‹

```
ç”¨æˆ·è®¿é—®æ”¿ç­–åˆ—è¡¨
    â”‚
    â–¼
[å‰ç«¯: Policies.vue]
    â”‚ GET /api/policies?page=1&page_size=20&keyword=...&source_name=...
    â–¼
[API: policies.py] â†’ è§£ææŸ¥è¯¢å‚æ•°
    â”‚
    â–¼
[Service: PolicyService.get_policies]
    â”‚
    â”œâ”€â†’ æ„å»ºSQLæŸ¥è¯¢æ¡ä»¶
    â”‚   â€¢ keyword (LIKEæœç´¢)
    â”‚   â€¢ category (ç²¾ç¡®åŒ¹é…)
    â”‚   â€¢ source_name (æ•°æ®æºç­›é€‰)
    â”‚   â€¢ start_date / end_date (æ—¥æœŸèŒƒå›´)
    â”‚   â€¢ publisher (å‘å¸ƒæœºæ„)
    â”‚
    â–¼
[Database: policiesè¡¨] â†’ æ‰§è¡ŒæŸ¥è¯¢
    â”‚
    â”œâ”€â†’ COUNT(*) â†’ è·å–æ€»æ•°
    â”‚
    â””â”€â†’ SELECT ... LIMIT ... OFFSET ... â†’ è·å–åˆ†é¡µæ•°æ®
    â”‚
    â–¼
[Service: PolicyService] â†’ åºåˆ—åŒ–ä¸ºSchema
    â”‚
    â–¼
[API: policies.py] â†’ è¿”å›JSONå“åº”
    â”‚
    â–¼
[å‰ç«¯: Policies.vue] â†’ æ¸²æŸ“åˆ—è¡¨
    â”‚
    â””â”€â†’ ç”¨æˆ·ç‚¹å‡»æ”¿ç­– â†’ è·³è½¬åˆ°è¯¦æƒ…é¡µ
            â”‚
            â–¼
        [å‰ç«¯: PolicyDetail.vue]
            â”‚ GET /api/policies/{id}
            â–¼
        [API: policies.py] â†’ è·å–è¯¦æƒ…
            â”‚
            â–¼
        [Service: PolicyService.get_policy_by_id]
            â”‚
            â–¼
        [Database: policiesè¡¨] â†’ æŸ¥è¯¢æ”¿ç­–
            â”‚
            â”œâ”€â†’ [Database: attachmentsè¡¨] â†’ æŸ¥è¯¢é™„ä»¶
            â”‚
            â””â”€â†’ è¿”å›å®Œæ•´æ”¿ç­–ä¿¡æ¯
```

### 4. é…ç½®ç®¡ç†æµç¨‹

```
ç”¨æˆ·åœ¨è®¾ç½®é¡µé¢ä¿®æ”¹é…ç½®
    â”‚
    â–¼
[å‰ç«¯: Settings.vue]
    â”‚ PUT /api/config/crawler (æˆ–å…¶ä»–é…ç½®)
    â–¼
[API: config.py] â†’ éªŒè¯å‚æ•°
    â”‚
    â–¼
[Service: ConfigService.update_crawler_config]
    â”‚
    â–¼
[Database: system_configè¡¨] â†’ ä¿å­˜é…ç½®
    â”‚
    â–¼
è¿”å›æ›´æ–°åçš„é…ç½®
    â”‚
    â–¼
[å‰ç«¯: Settings.vue] â†’ æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
    â”‚
    â””â”€â†’ ä¸‹æ¬¡ä»»åŠ¡æ‰§è¡Œæ—¶ï¼ŒTaskServiceä¼šè¯»å–æœ€æ–°é…ç½®
```

### 5. æ–‡ä»¶ä¸‹è½½æµç¨‹

```
ç”¨æˆ·ç‚¹å‡»ä¸‹è½½æŒ‰é’®
    â”‚
    â–¼
[å‰ç«¯: PolicyDetail.vue / Policies.vue]
    â”‚ GET /api/policies/{id}/file/{file_type}
    â–¼
[API: policies.py] â†’ éªŒè¯æ–‡ä»¶ç±»å‹
    â”‚
    â–¼
[Service: PolicyService / StorageService]
    â”‚
    â”œâ”€â†’ æ£€æŸ¥æœ¬åœ°ç¼“å­˜ (CacheService)
    â”‚       â”‚
    â”‚       â””â”€â†’ å¦‚æœå­˜åœ¨ â†’ ç›´æ¥è¿”å›
    â”‚
    â”œâ”€â†’ å¦‚æœä¸å­˜åœ¨ï¼Œæ£€æŸ¥S3 (å¦‚æœå¯ç”¨)
    â”‚       â”‚
    â”‚       â””â”€â†’ å¦‚æœå­˜åœ¨ â†’ ä¸‹è½½åˆ°æœ¬åœ°ç¼“å­˜å¹¶è¿”å›
    â”‚
    â””â”€â†’ å¦‚æœéƒ½ä¸å­˜åœ¨ â†’ è¿”å›404é”™è¯¯
            â”‚
            â–¼
    è¿”å›æ–‡ä»¶æµ (Blob)
            â”‚
            â–¼
    [å‰ç«¯] â†’ è§¦å‘æµè§ˆå™¨ä¸‹è½½
```

## ğŸ“‹ æ•°æ®æ¨¡å‹å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚
â”‚             â”‚
â”‚ â€¢ id        â”‚
â”‚ â€¢ username  â”‚
â”‚ â€¢ password  â”‚
â”‚ â€¢ email     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1
       â”‚
       â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Task     â”‚â”€â”€â”€â”€â”€â–¶â”‚   Policy    â”‚
â”‚             â”‚ N    â”‚             â”‚
â”‚ â€¢ id        â”‚      â”‚ â€¢ id        â”‚
â”‚ â€¢ task_name â”‚      â”‚ â€¢ title     â”‚
â”‚ â€¢ task_type â”‚      â”‚ â€¢ content   â”‚
â”‚ â€¢ status    â”‚      â”‚ â€¢ pub_date  â”‚
â”‚ â€¢ config    â”‚      â”‚ â€¢ source_*  â”‚
â”‚ â€¢ progress  â”‚      â”‚ â€¢ category  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚ 1
       â”‚                    â”‚
       â”‚                    â”‚ N
       â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
       â”‚            â”‚  Attachment   â”‚
       â”‚            â”‚               â”‚
       â”‚            â”‚ â€¢ id          â”‚
       â”‚            â”‚ â€¢ policy_id   â”‚
       â”‚            â”‚ â€¢ file_name   â”‚
       â”‚            â”‚ â€¢ file_url    â”‚
       â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚SystemConfig â”‚
                    â”‚             â”‚
                    â”‚ â€¢ key       â”‚
                    â”‚ â€¢ value     â”‚
                    â”‚ â€¢ category  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”€ å…³é”®æ•°æ®è½¬æ¢ç‚¹

### 1. å‰ç«¯ â†’ åç«¯
- **è¯·æ±‚æ ¼å¼**: JSON (Content-Type: application/json)
- **è®¤è¯æ–¹å¼**: JWT Token (Authorization: Bearer {token})
- **å‚æ•°è½¬æ¢**:
  - `page` / `page_size` â†’ `skip` / `limit`
  - `publish_date` â†” `pub_date`
  - `law_type` â†” `level`

### 2. çˆ¬è™« â†’ æ•°æ®åº“
- **Policyå¯¹è±¡** (dataclass) â†’ **PolicyModel** (SQLAlchemy)
- **æ•°æ®æºæ ‡è¯†**: `_data_source` â†’ `source_name` (å‹å¥½åç§°)
- **æ—¥æœŸæ ¼å¼**: `YYYY-MM-DD` (å­—ç¬¦ä¸²) â†’ `Date` (æ•°æ®åº“ç±»å‹)

### 3. æ•°æ®åº“ â†’ å‰ç«¯
- **PolicyModel** â†’ **PolicyListItem** / **PolicyResponse** (Pydantic Schema) â†’ **JSON** â†’ **å‰ç«¯Policyæ¥å£**

### 4. å­˜å‚¨æ ¼å¼è½¬æ¢
- **åŸå§‹HTML** â†’ **æ¸…æ´—åçš„å†…å®¹** â†’ **Markdown** / **JSON** / **DOCX**
- **æ–‡ä»¶è·¯å¾„**: æœ¬åœ°è·¯å¾„ â†” S3 Key

## ğŸ¯ çŠ¶æ€æµè½¬

### ä»»åŠ¡çŠ¶æ€æµè½¬
```
pending â†’ running â†’ completed
                â†“
            failed
                â†“
            cancelled (å¯å–æ¶ˆ)
```

### æ”¿ç­–å¤„ç†çŠ¶æ€
```
çˆ¬å– â†’ è§£æ â†’ éªŒè¯ â†’ å»é‡æ£€æŸ¥ â†’ ä¿å­˜ â†’ ç´¢å¼• (å¯é€‰)
```

## ğŸ“Š æ•°æ®é‡çº§ä¸æ€§èƒ½

- **æ”¿ç­–è¡¨**: é¢„è®¡æ•°ä¸‡åˆ°æ•°åä¸‡æ¡è®°å½•
- **ç´¢å¼•ä¼˜åŒ–**: 
  - `policies.title` - å…¨æ–‡æœç´¢
  - `policies.source_name` - æ•°æ®æºç­›é€‰
  - `policies.pub_date` - æ—¥æœŸç­›é€‰
  - `policies.category` - åˆ†ç±»ç­›é€‰
- **ç¼“å­˜ç­–ç•¥**: 
  - æœ¬åœ°æ–‡ä»¶ç¼“å­˜ (CacheService)
  - æ•°æ®åº“æŸ¥è¯¢ç»“æœ (å¯é€‰Redisç¼“å­˜)
- **åˆ†é¡µ**: é»˜è®¤20æ¡/é¡µï¼Œæœ€å¤§100æ¡/é¡µ

## ğŸ” å®‰å…¨ä¸æƒé™

- **è®¤è¯**: JWT Token (æœ‰æ•ˆæœŸå¯é…ç½®)
- **å¯†ç **: BCryptå“ˆå¸Œå­˜å‚¨
- **APIä¿æŠ¤**: é™¤ç™»å½•å¤–æ‰€æœ‰æ¥å£éœ€è¦è®¤è¯
- **æ•æ„Ÿé…ç½®**: æ•°æ®åº“åŠ å¯†å­˜å‚¨ (is_encrypted=True)

## ğŸ”„ å¼‚æ­¥å¤„ç†

- **ä»»åŠ¡æ‰§è¡Œ**: åå°çº¿ç¨‹ (threading.Thread)
- **é‚®ä»¶å‘é€**: å¼‚æ­¥ (aiosmtplib)
- **S3ä¸Šä¼ **: åŒæ­¥ (å¯ä¼˜åŒ–ä¸ºå¼‚æ­¥)
- **è¿›åº¦æ›´æ–°**: å›è°ƒå‡½æ•°å®æ—¶æ›´æ–°

## ğŸ“¡ å¤–éƒ¨ä¾èµ–

1. **ç›®æ ‡ç½‘ç«™**: gi.mnr.gov.cn / f.mnr.gov.cn
2. **æ•°æ®åº“**: PostgreSQL 18 (Dockerå®¹å™¨)
3. **S3å­˜å‚¨**: å¯é€‰ (AWS S3å…¼å®¹)
4. **é‚®ä»¶æœåŠ¡**: å¯é€‰ (SMTP)

## ğŸ³ Docker è‡ªåŠ¨é…ç½®æµç¨‹

```
å®¹å™¨å¯åŠ¨æµç¨‹
    â”‚
    â–¼
[æ•°æ®åº“å®¹å™¨å¯åŠ¨]
    â”‚
    â”œâ”€â†’ docker-entrypoint-wrapper.sh
    â”‚       â”‚
    â”‚       â”œâ”€â†’ æ£€æŸ¥ POSTGRES_PASSWORD
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€â†’ å¦‚æœæœªè®¾ç½®æˆ–ä¸ºé»˜è®¤å€¼
    â”‚       â”‚       â”‚       â”‚
    â”‚       â”‚       â”‚       â”œâ”€â†’ æ£€æŸ¥æŒä¹…åŒ–æ–‡ä»¶ (.postgres_password)
    â”‚       â”‚       â”‚       â”‚       â”‚
    â”‚       â”‚       â”‚       â”‚       â”œâ”€â†’ å­˜åœ¨ â†’ è¯»å–å·²æœ‰å¯†ç 
    â”‚       â”‚       â”‚       â”‚       â”‚
    â”‚       â”‚       â”‚       â”‚       â””â”€â†’ ä¸å­˜åœ¨ â†’ ç”Ÿæˆ32å­—ç¬¦éšæœºå¯†ç 
    â”‚       â”‚       â”‚       â”‚
    â”‚       â”‚       â”‚       â””â”€â†’ å†™å…¥ /run/secrets/postgres_password (å…±äº«å·)
    â”‚       â”‚       â”‚
    â”‚       â”‚       â””â”€â†’ è°ƒç”¨ PostgreSQL entrypoint
    â”‚       â”‚               â”‚
    â”‚       â”‚               â””â”€â†’ initdb å®Œæˆåæ‰§è¡Œ save-password.sh
    â”‚       â”‚                       â”‚
    â”‚       â”‚                       â””â”€â†’ ä¿å­˜å¯†ç åˆ°æŒä¹…åŒ–æ–‡ä»¶
    â”‚       â”‚
    â””â”€â†’ PostgreSQL åˆå§‹åŒ–å®Œæˆ
            â”‚
            â–¼
[åç«¯å®¹å™¨å¯åŠ¨]
    â”‚
    â”œâ”€â†’ docker-entrypoint.sh
    â”‚       â”‚
    â”‚       â”œâ”€â†’ æ£€æŸ¥ JWT_SECRET_KEY
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€â†’ å¦‚æœæœªè®¾ç½®æˆ–ä¸ºé»˜è®¤å€¼
    â”‚       â”‚       â”‚       â”‚
    â”‚       â”‚       â”‚       â”œâ”€â†’ æ£€æŸ¥æŒä¹…åŒ–æ–‡ä»¶ (.jwt_secret_key)
    â”‚       â”‚       â”‚       â”‚       â”‚
    â”‚       â”‚       â”‚       â”‚       â”œâ”€â†’ å­˜åœ¨ â†’ è¯»å–å·²æœ‰å¯†é’¥
    â”‚       â”‚       â”‚       â”‚       â”‚
    â”‚       â”‚       â”‚       â”‚       â””â”€â†’ ä¸å­˜åœ¨ â†’ ç”Ÿæˆ128å­—ç¬¦éšæœºå¯†é’¥
    â”‚       â”‚       â”‚       â”‚
    â”‚       â”‚       â”‚       â””â”€â†’ ä¿å­˜åˆ°æŒä¹…åŒ–æ–‡ä»¶
    â”‚       â”‚       â”‚
    â”‚       â”œâ”€â†’ æ£€æŸ¥ POSTGRES_PASSWORD
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€â†’ å¦‚æœæœªè®¾ç½®æˆ–ä¸ºé»˜è®¤å€¼
    â”‚       â”‚       â”‚       â”‚
    â”‚       â”‚       â”‚       â””â”€â†’ ä» /run/secrets/postgres_password è¯»å–
    â”‚       â”‚       â”‚               â”‚
    â”‚       â”‚       â”‚               â””â”€â†’ æœ€å¤šç­‰å¾…10ç§’ï¼Œé‡è¯•10æ¬¡
    â”‚       â”‚       â”‚
    â”‚       â””â”€â†’ æ›´æ–° DATABASE_URL
    â”‚               â”‚
    â”‚               â””â”€â†’ å¯åŠ¨ FastAPI åº”ç”¨
    â”‚
    â–¼
[å‰ç«¯å®¹å™¨å¯åŠ¨]
    â”‚
    â”œâ”€â†’ Nginx 1.28 å¯åŠ¨
    â”‚       â”‚
    â”‚       â”œâ”€â†’ érootç”¨æˆ·è¿è¡Œ (nginx)
    â”‚       â”‚
    â”‚       â”œâ”€â†’ PIDæ–‡ä»¶: /var/cache/nginx/nginx.pid
    â”‚       â”‚
    â”‚       â””â”€â†’ ä»£ç†åˆ°åç«¯: http://backend:8000
```

## ğŸ¨ å‰ç«¯è·¯ç”±

```
/ â†’ é‡å®šå‘åˆ° /policies
/login â†’ ç™»å½•é¡µ
/policies â†’ æ”¿ç­–åˆ—è¡¨
/policies/:id â†’ æ”¿ç­–è¯¦æƒ…
/tasks â†’ ä»»åŠ¡ç®¡ç†
/scheduled-tasks â†’ å®šæ—¶ä»»åŠ¡
/backups â†’ å¤‡ä»½ç®¡ç†
/settings â†’ ç³»ç»Ÿè®¾ç½®
```

## ğŸ“ æ•°æ®æµæ€»ç»“

1. **ç”¨æˆ·æ“ä½œ** â†’ å‰ç«¯Vueç»„ä»¶ â†’ APIè¯·æ±‚ â†’ FastAPIè·¯ç”±
2. **APIè·¯ç”±** â†’ è®¤è¯ä¸­é—´ä»¶ â†’ ä¸šåŠ¡æœåŠ¡å±‚ â†’ æ•°æ®åº“/å­˜å‚¨
3. **ä»»åŠ¡æ‰§è¡Œ** â†’ çˆ¬è™«æ ¸å¿ƒ â†’ å¤–éƒ¨API â†’ HTMLè§£æ â†’ æ•°æ®æ¸…æ´— â†’ æ•°æ®åº“ä¿å­˜
4. **æ•°æ®æŸ¥è¯¢** â†’ æ•°æ®åº“ â†’ Pydanticåºåˆ—åŒ– â†’ JSONå“åº” â†’ å‰ç«¯æ¸²æŸ“
5. **é…ç½®æ›´æ–°** â†’ æ•°æ®åº“å­˜å‚¨ â†’ ä¸‹æ¬¡ä»»åŠ¡æ‰§è¡Œæ—¶åŠ¨æ€åŠ è½½

---

*æœ€åæ›´æ–°: 2025-12-09*

